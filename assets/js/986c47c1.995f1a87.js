"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[350],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return c}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):d(d({},t),e)),n},p=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=s(n),c=r,k=m["".concat(l,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(k,d(d({ref:t},p),{},{components:n})):a.createElement(k,d({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,d=new Array(i);d[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,d[1]=o;for(var s=2;s<i;s++)d[s]=n[s];return a.createElement.apply(null,d)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4425:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return s},toc:function(){return p},default:function(){return m}});var a=n(3117),r=n(102),i=(n(7294),n(3905)),d=["components"],o={title:"Creating Full Screen Ad with Hook API",sidebar_position:3},l=void 0,s={unversionedId:"usage/fullscreen-hook",id:"usage/fullscreen-hook",isDocsHomePage:!1,title:"Creating Full Screen Ad with Hook API",description:"Creating ad",source:"@site/docs/usage/fullscreen-hook.mdx",sourceDirName:"usage",slug:"/usage/fullscreen-hook",permalink:"/admob/docs/usage/fullscreen-hook",editUrl:"https://github.com/react-native-admob/admob/edit/master/docs/docs/usage/fullscreen-hook.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Creating Full Screen Ad with Hook API",sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Full Screen Ad Fundamentals",permalink:"/admob/docs/usage/fullscreen-fundamentals"},next:{title:"Creating Full Screen Ad with Class API",permalink:"/admob/docs/usage/fullscreen-class"}},p=[{value:"Creating ad",id:"creating-ad",children:[],level:2},{value:"Using derived states",id:"using-derived-states",children:[],level:2},{value:"Loading and showing ad",id:"loading-and-showing-ad",children:[],level:2},{value:"Handling errors",id:"handling-errors",children:[],level:2}],u={toc:p};function m(e){var t=e.components,n=(0,r.Z)(e,d);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"creating-ad"},"Creating ad"),(0,i.kt)("p",null,"You can create ad by adding a corresponding ad type's hook to your component."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"{4-8}","{4-8}":!0},"import { useInterstitialAd, TestIds } from '@react-native-admob/admob';\n\nexport default function App() {\n  const interstitialAd = useInterstitialAd(TestIds.REWARDED_INTERSTITIAL, {\n    requestOptions: {\n      requestNonPersonalizedAdsOnly: true,\n    },\n  });\n\n  return <View>{/* ... */}</View>;\n}\n")),(0,i.kt)("p",null,"First parameter is ",(0,i.kt)("inlineCode",{parentName:"p"},"unitId")," parameter. Set this to the ad unit ID created in the AdMob console. You can use one of the ",(0,i.kt)("inlineCode",{parentName:"p"},"TestIds")," to test your ad implementation."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"unitId")," parameter is also can be used to manage creation and destruction of ad.\nIf ",(0,i.kt)("inlineCode",{parentName:"p"},"unitId")," is set or changed, new ad instance will be created automatically and previous ad instance will be destroyed.\nIf ",(0,i.kt)("inlineCode",{parentName:"p"},"unitId")," is set to ",(0,i.kt)("inlineCode",{parentName:"p"},"null"),", ad will be destroyed automatically. As ad destroys, derived states will be initialized to initial state."),(0,i.kt)("p",null,"As second parameter, you can provide ",(0,i.kt)("inlineCode",{parentName:"p"},"FullScreenAdOptions")," object as a second parameter, ",(0,i.kt)("inlineCode",{parentName:"p"},"options"),". About the options, please refer to ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/types/FullScreenAdOptions"},"FullScreenAdOptions"),"."),(0,i.kt)("p",null,"After the ad is created, ad will be loaded automatically if you didn't specify ",(0,i.kt)("inlineCode",{parentName:"p"},"loadOnMounted")," option to ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," since its default value is ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,i.kt)("h2",{id:"using-derived-states"},"Using derived states"),(0,i.kt)("p",null,"The hook returns several derived states and functions to control ad."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useInterstitialAd } from '@react-native-admob/admob';\n\nexport default function App({ navigation }) {\n  const { adLoaded, adDismissed, show } = useInterstitialAd(\n    TestIds.REWARDED_INTERSTITIAL,\n    {\n      requestOptions: {\n        requestNonPersonalizedAdsOnly: true,\n      },\n    }\n  );\n\n  useEffect(() => {\n    if (adDismissed) {\n      navigation.navigate('NextScreen');\n    }\n  }, [adDismissed, navigation]);\n\n  return (\n    <View>\n      <Button\n        title=\"Navigate to next screen\"\n        onPress={() => {\n          if (adLoaded) {\n            show();\n          } else {\n            navigation.navigate('NextScreen');\n          }\n        }}\n      />\n    </View>\n  );\n}\n")),(0,i.kt)("p",null,"Using derived states and some ",(0,i.kt)("inlineCode",{parentName:"p"},"useEffect")," hooks, you can interact with ad. Above example shows how to show loaded ad and navigate to next screen when ad is dismissed.\nAlso, you can see you can show ad only if ad is loaded."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"adLoaded"),(0,i.kt)("td",{parentName:"tr",align:"left"},"boolean"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Whether your ad is loaded and ready to present.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"adPresented"),(0,i.kt)("td",{parentName:"tr",align:"left"},"boolean"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Whether your ad is presented to user. Value is remained ",(0,i.kt)("inlineCode",{parentName:"td"},"true")," until ",(0,i.kt)("strong",{parentName:"td"},"new ad is requested"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"adDismissed"),(0,i.kt)("td",{parentName:"tr",align:"left"},"boolean"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Whether your ad is dismissed. Value is remained ",(0,i.kt)("inlineCode",{parentName:"td"},"true")," until new ad is requested.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"adShowing"),(0,i.kt)("td",{parentName:"tr",align:"left"},"boolean"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Whether your ad is showing. The value is equal with ",(0,i.kt)("inlineCode",{parentName:"td"},"adPresented && !adDismissed"),".")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"adLoadError"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Error ","|"," undefined"),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Error")," object throwed during ad load.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"adPresentError"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Error ","|"," undefined"),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("inlineCode",{parentName:"td"},"Error")," object throwed during ad present.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"reward"),(0,i.kt)("td",{parentName:"tr",align:"left"},(0,i.kt)("a",{parentName:"td",href:"#"},"Reward")," ","|"," undefined"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Reward earned by user. The value is ",(0,i.kt)("inlineCode",{parentName:"td"},"undefined")," until user earns reward. Available only in RewardedAd or RewardedInterstitialAd.")))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Note that ",(0,i.kt)("inlineCode",{parentName:"p"},"adPresented")," value remains ",(0,i.kt)("inlineCode",{parentName:"p"},"true")," after the ad is dismissed.\nThe value changes to ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," when ad is initialized via ",(0,i.kt)("inlineCode",{parentName:"p"},"load()"),".\nTo determine whether the ad is showing, use ",(0,i.kt)("inlineCode",{parentName:"p"},"adShowing")," value."))),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"When using with ",(0,i.kt)("inlineCode",{parentName:"p"},"loadOnDismissed")," option to ",(0,i.kt)("inlineCode",{parentName:"p"},"true"),", changed ",(0,i.kt)("inlineCode",{parentName:"p"},"adDimissed")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"reward")," value will appear for a very short time and initialized to ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"undefined")," respectively as derived states are initialized just after new ad is requested."))),(0,i.kt)("h2",{id:"loading-and-showing-ad"},"Loading and showing ad"),(0,i.kt)("p",null,"Depending on your options, you may need to load or show ad manually.\nNot only derived states listed above, hook also returns ",(0,i.kt)("inlineCode",{parentName:"p"},"load")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"show")," functions to control ad as shown in example above. You can use these functions to show ad and load ad."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"load"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Function"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Loads new ad. Can not call this function if the ad is loaded but not presented and dismissed.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},"show"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Function"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Shows loaded ad. Ad must be loaded prior to this call.")))),(0,i.kt)("h2",{id:"handling-errors"},"Handling errors"),(0,i.kt)("p",null,"WIP"))}m.isMDXComponent=!0}}]);